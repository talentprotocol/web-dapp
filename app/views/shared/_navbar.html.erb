<%= react_component("BottomNav", props: {
  mode: current_user&.theme_preference || "light",
  talentPath: talent_index_path,
  portfolioPath: portfolio_path,
  messagesPath: messages_path,
  hasUnreadMessages: current_user&.has_unread_messages?,
}, prerender: false) %>

<%= react_component("TopBar", props: {
  mode: current_user&.theme_preference || "light",
  user: {
    id: current_user.id,
    profilePictureUrl: current_user.talent&.profile_picture_url || current_user.investor&.profile_picture_url,
    talentId: current_user.talent&.id,
    investorId: current_user.investor&.id,
    isTalent: current_user.talent.present?,
    displayWalletId: current_user.display_wallet_id,
    walletId: current_user.wallet_id,
    username: current_user.username,
    tokenLive: current_user.talent&.token&.contract_id.present?,
    currentTheme: current_user.theme_preference,
  },
  hasUnreadMessages: current_user&.has_unread_messages?,
  notifications: current_user.notifications.includes([:source]).order(id: :desc).map { |notif| { id: notif.id, title: notif.title, body: notif.body, user_id: notif.user_id, type: notif.type, read: notif.read, source_id: notif.source_id, talent_id: notif.user.talent&.id, username: notif.user.username, source_username: notif.source&.username, source_talent_id: notif.source&.talent&.id, created_at: notif.updated_at } },
  signOutPath: sign_out_path
}, prerender: false) %>
